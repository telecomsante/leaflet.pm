"use strict";var DragMixin={_initDraggableLayer:function(){var t=this;this._tempDragCoord;var e=this._poly||this._line,i=e._path;L.DomUtil.addClass(i,"leaflet-pm-draggable");var n=function(n){e._map.dragging.enable(),e._map.off("mousemove"),e.off("mouseup"),t._initMarkers(),window.setTimeout(function(){t._dragging=!1,L.DomUtil.removeClass(i,"leaflet-pm-dragging"),e.fire("pm:dragend"),t._fireEdit()},10)},a=function(n){t._dragging||(t._dragging=!0,L.DomUtil.addClass(i,"leaflet-pm-dragging"),e.bringToFront(),e._map.dragging.disable(),t._markerGroup.clearLayers(),e.fire("pm:dragstart")),t._onLayerDrag(n)};e.on("mousedown",function(i){t._tempDragCoord=i.latlng,e.on("mouseup",n),e._map.on("mousemove",a)})},dragging:function(){return this._dragging},_onLayerDrag:function(t){var e=this._poly||this._line,i=t.latlng,n={lat:i.lat-this._tempDragCoord.lat,lng:i.lng-this._tempDragCoord.lng},a=e._latlngs[0],r=a.map(function(t){return{lat:t.lat+n.lat,lng:t.lng+n.lng}});e.setLatLngs(r).redraw(),this._tempDragCoord=i,e.fire("pm:drag")}},OverlapMixin={_applyPossibleCoordsChanges:function(){if(this._tempPolygon){var t=this._tempPolygon.getLayers()[0].getLatLngs();this._poly.setLatLngs(t).redraw(),this._initMarkers()}},_drawTemporaryPolygon:function(t){this._poly.setStyle({opacity:0,fillOpacity:0}),this._tempPolygon=L.geoJson(t).addTo(this._poly._map).bringToBack()},_handleOverlap:function(){var t=this._poly,e=this._layerGroup.getLayers(),i=!1,n=this._poly.toGeoJSON();e.filter(function(e){return!Object.is(e,t)}).map(function(t){var e=void 0;try{e=turf.intersect(n,t.toGeoJSON())}catch(a){console.warn("Turf Error.")}e&&(n=turf.difference(n,t.toGeoJSON()),"MultiPolygon"!==n.geometry.type&&(i=!0))}),this._tempPolygon&&(this._tempPolygon.remove(),delete this._tempPolygon),i?this._drawTemporaryPolygon(n):this._poly.setStyle({opacity:1,fillOpacity:.2})}},SnapMixin={_initSnappableMarkers:function(){var t=this,e=this._poly||this._line;this.options.snapDistance=this.options.snapDistance||30,this._markers.forEach(function(e){e.off("drag",t._handleSnapping,t),e.on("drag",t._handleSnapping,t),e.off("dragend",t._cleanupSnapping,t),e.on("dragend",t._cleanupSnapping,t)}),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_unsnap:function(t){delete this._snapLatLng},_cleanupSnapping:function(t){delete this._snapList,this.debugIndicatorLines.forEach(function(t){t.remove()})},_handleSnapping:function(t){var e=this._poly||this._line;if(void 0===this._snapList&&this._createSnapList(t),this._snapList.length<=0)return!1;var i=t.target,n=this._calcClosestLayer(i.getLatLng(),this._snapList),a=this._checkPrioritiySnapping(n),r=this.options.snapDistance,o={marker:i,snapLatLng:a,segment:n.segment,layer:e,layerInteractedWith:n.layer};n.distance<r?(i.setLatLng(a),this._onMarkerDrag(t),this._snapLatLng!==a&&(this._snapLatLng=a,i.fire("pm:snap",o),e.fire("pm:snap",o))):this._snapLatLng&&(this._unsnap(o),o.marker.fire("pm:unsnap",o),e.fire("pm:unsnap",o))},_checkPrioritiySnapping:function(t){var e=this._poly||this._line,i=e._map,n=t.segment[0],a=t.segment[1],r=t.latlng,o=this._getDistance(i,n,r),s=this._getDistance(i,a,r),l=o<s?n:a,h=o<s?o:s,d=this.options.snapDistance,_=void 0;return _=h<d?l:t.latlng},_createSnapList:function(){var t=this._poly||this._line,e=[],i=[];t._map.eachLayer(function(t){if(t instanceof L.Polyline){e.push(t);var n=L.polyline([],{color:"red"});i.push(n)}}),e=e.filter(function(e){return t!==e}),this._snapList=e,this.debugIndicatorLines=i},_calcClosestLayer:function(t,e){var i=this,n=this._poly||this._line,a=(n._map,{});return e.forEach(function(e,n){var r=i._calcLayerDistances(t,e);i.debugIndicatorLines[n].setLatLngs([t,r.latlng]),(void 0===a.distance||r.distance<a.distance)&&(a=r,a.layer=e)}),a},_calcLayerDistances:function(t,e){var i=this,n=this._poly||this._line,a=n._map,r=t,o=this._poly?e.getLatLngs()[0]:e.getLatLngs(),s=void 0,l=void 0;o.forEach(function(t,e){var n=t,h=e+1===o.length?0:e+1,d=o[h],_=i._getDistanceToSegment(a,r,n,d);(void 0===l||_<l)&&(l=_,s=[n,d])});var h=this._getClosestPointOnSegment(a,t,s[0],s[1]);return{latlng:h,segment:s,distance:l}},_getClosestPointOnSegment:function(t,e,i,n){var a=t.getMaxZoom();a===1/0&&(a=t.getZoom());var r=t.project(e,a),o=t.project(i,a),s=t.project(n,a),l=L.LineUtil.closestPointOnSegment(r,o,s);return t.unproject(l,a)},_getDistanceToSegment:function(t,e,i,n){var a=t.latLngToLayerPoint(e),r=t.latLngToLayerPoint(i),o=t.latLngToLayerPoint(n);return L.LineUtil.pointToSegmentDistance(a,r,o)},_getDistance:function(t,e,i){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i))}};L.PM=L.PM||{initialize:function(){var t=function(){this.pm=new L.PM.Edit.LayerGroup(this)};L.LayerGroup.addInitHook(t);var e=function(){this.pm=new L.PM.Edit.Poly(this)};L.Polygon.addInitHook(e);var i=function(){this.pm=new L.PM.Edit.Line(this)};L.Polyline.addInitHook(i);var n=function(){this.pm=new L.PM.Map(this)};L.Map.addInitHook(n)}},L.PM.initialize(),L.PM.Map=L.Class.extend({initialize:function(t){this.map=t,this.Draw=new L.PM.Draw(t),this.Toolbar=new L.PM.Toolbar(t)},addControls:function(t){this.Toolbar.addControls(t)},enableDraw:function(){var t=arguments.length<=0||void 0===arguments[0]?"Poly":arguments[0];this.Draw.enable(t)},disableDraw:function(){var t=arguments.length<=0||void 0===arguments[0]?"Poly":arguments[0];this.Draw.disable(t)},removeLayer:function(t){var e=t.target;e._layers||e.pm.dragging()||t.target.remove()},toggleRemoval:function(t){var e=this;t?this.map.eachLayer(function(t){t.on("click",e.removeLayer)}):this.map.eachLayer(function(t){t.off("click",e.removeLayer)})},globalEditEnabled:function(){return this._globalEditMode},toggleGlobalEditMode:function(t){var e=[];this.map.eachLayer(function(t){t instanceof L.Polyline&&e.push(t)}),this.globalEditEnabled()?(this._globalEditMode=!1,e.forEach(function(t,e){t.pm.disable()})):(this._globalEditMode=!0,e.forEach(function(e,i){e.pm.enable(t)}))}}),L.PM.Draw=L.Class.extend({initialize:function(t){var e=this;this._map=t,this.shapes=["Poly","Line"],this.shapes.forEach(function(t){e[t]=new L.PM.Draw[t](e._map)})},getShapes:function(){return this.shapes},enable:function(t){if(!t)throw"Error: Please pass a shape as a parameter. Possible shapes are: "+this.getShapes().join(",");this.disable(),this[t].enable()},disable:function(){var t=this;this.shapes.forEach(function(e){t[e].disable()})},addControls:function(){var t=this;this.shapes.forEach(function(e){t[e].addButton()})}}),L.PM.Edit=L.Class.extend({includes:[DragMixin,SnapMixin]}),L.PM.Draw.Line=L.PM.Draw.extend({initialize:function(t){this._map=t,this._shape="Line",this.registerButton(),this.toolbarButtonName="drawLine"},enable:function(t){this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup.addTo(this._map),this._polyline=L.polyline([],{color:"red"}),this._layerGroup.addLayer(this._polyline),this._hintline=L.polyline([],{color:"red",dashArray:[5,5]}),this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._createLinePoint,this),this._map.on("mousemove",this._syncHintLine,this),this._map.fire("pm:drawstart",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0)},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="default",this._map.off("click",this._createLinePoint),this._map.off("mousemove",this._syncHintLine),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1))},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},registerButton:function(t){},_syncHintLine:function(t){var e=this._polyline.getLatLngs();if(e.length>0){var i=e[e.length-1];this._hintline.setLatLngs([i,t.latlng])}},_createLinePoint:function(t){var e=0!==this._polyline.getLatLngs().length;this._polyline.addLatLng(t.latlng),this._createMarker(t.latlng,e),this._hintline.setLatLngs([t.latlng,t.latlng])},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._layerGroup.addLayer(i),e&&i.on("click",this._finishLine,this),i},_finishLine:function(){var t=this._polyline.getLatLngs(),e=L.polyline(t).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:e})}}),L.PM.Draw.Poly=L.PM.Draw.extend({initialize:function(t){this._map=t,this._shape="Poly",this.registerButton(),this.toolbarButtonName="drawPolygon"},enable:function(t){this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup.addTo(this._map),this._polyline=L.polyline([],{color:"red"}),this._layerGroup.addLayer(this._polyline),this._hintline=L.polyline([],{color:"red",dashArray:[5,5]}),this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._createPolygonPoint,this),this._map.on("mousemove",this._syncHintLine,this),this._map.fire("pm:drawstart",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0)},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="default",this._map.off("click",this._createPolygonPoint),this._map.off("mousemove",this._syncHintLine),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1))},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},registerButton:function(t){},_syncHintLine:function(t){var e=this._polyline.getLatLngs();if(e.length>0){var i=e[e.length-1];this._hintline.setLatLngs([i,t.latlng])}},_createPolygonPoint:function(t){var e=0===this._polyline.getLatLngs().length;this._polyline.addLatLng(t.latlng),this._createMarker(t.latlng,e),this._hintline.setLatLngs([t.latlng,t.latlng])},_finishPolygon:function(){var t=this._polyline.getLatLngs(),e=L.polygon(t).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:e})},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._layerGroup.addLayer(i),e&&i.on("click",this._finishPolygon,this),i}}),L.PM.Edit.LayerGroup=L.Class.extend({initialize:function(t){var e=this;this._layerGroup=t,this._layers=t.getLayers();var i=["pm:edit","pm:dragstart","pm:drag","pm:dragend","pm:snap","pm:unsnap","pm:raiseMarkers"];this._layers.forEach(function(t){i.forEach(function(i){t.on(i,e._fireEvent,e)}),t.pm._layerGroup=e._layerGroup}),this._layerGroup.on("layeradd",function(i){e.initialize(t),i.target.pm.enabled()&&e.enable(e.getOptions())})},_fireEvent:function(t){this._layerGroup.fireEvent(t.type,t)},toggleEdit:function(t){this._options=t,this._layers.forEach(function(e){e.pm.toggleEdit(t)})},enable:function(t){this._options=t,this._layers.forEach(function(e){e.pm.enable(t)})},disable:function(){this._layers.forEach(function(t){t.pm.disable()})},enabled:function t(){var t=this._layers.find(function(t){return t.pm.enabled()});return!!t},dragging:function e(){var e=this._layers.find(function(t){return t.pm.dragging()});return!!e},getOptions:function(){return this._options}}),L.PM.Edit.Line=L.PM.Edit.extend({initialize:function(t){this._line=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enable:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e,this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this._line.on("remove",function(e){t.disable(e.target)}),this.options.draggable&&this._initDraggableLayer()},enabled:function(){return this._enabled},disable:function(){var t=arguments.length<=0||void 0===arguments[0]?this._line:arguments[0];if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._markerGroup.clearLayers(),t.off("mousedown"),t.off("mouseup");var e=t._path;L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_initMarkers:function(){var t=this._line._map;this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,t.addLayer(this._markerGroup);var e=this._line._latlngs;this._markers=e.map(this._createMarker,this);for(var i=0;i<e.length-1;i++){var n=i+1;this._createMiddleMarker(this._markers[i],this._markers[n])}this.options.snappable&&this._initSnappableMarkers()},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return i._origLatLng=t,i._index=e,i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(i),i},_createMiddleMarker:function(t,e){var i=this,n=this._calcMiddleLatLng(t.getLatLng(),e.getLatLng()),a=this._createMarker(n),r=L.divIcon({className:"marker-icon marker-icon-middle"});a.setIcon(r),t._middleMarkerNext=a,e._middleMarkerPrev=a,a.on("click",function(){var n=L.divIcon({className:"marker-icon"});a.setIcon(n),i._addMarker(a,t,e)}),a.on("movestart",function(){a.on("moveend",function(){var t=L.divIcon({className:"marker-icon"});a.setIcon(t),a.off("moveend")}),i._addMarker(a,t,e)})},_addMarker:function(t,e,i){t.off("movestart"),t.off("click");var n=t.getLatLng(),a=this._line._latlngs,r=e._index+1;a.splice(r,0,n),t._origLatLng=a[r],this._markers.splice(r,0,t),this._markers.map(function(t,e){return t._index=e}),this._createMiddleMarker(e,t),this._createMiddleMarker(t,i),this._fireEdit(),this.options.snappable&&this._initSnappableMarkers()},_removeMarker:function(t){var e=t.target,i=this._line._latlngs,n=e._index;if(void 0!==n){i.splice(n,1),i.length<1?this._line.remove():this._line.redraw(),e._middleMarkerPrev&&this._markerGroup.removeLayer(e._middleMarkerPrev),e._middleMarkerNext&&this._markerGroup.removeLayer(e._middleMarkerNext),this._markerGroup.removeLayer(e);var a=n-1<0?this._markers.length-1:n-1,r=n+1>=this._markers.length?0:n+1;if(r!==a){var o=this._markers[a],s=this._markers[r];this._createMiddleMarker(o,s)}this._markers.splice(n,1),this._markers.map(function(t,e){return t._index=e}),this._fireEdit()}},_onMarkerDrag:function(t){var e=t.target,i=e._index+1>=this._markers.length?0:e._index+1,n=e._index-1<0?this._markers.length-1:e._index-1;L.extend(e._origLatLng,e._latlng),this._line.redraw();var a=e.getLatLng(),r=this._markers[n].getLatLng(),o=this._markers[i].getLatLng();if(e._middleMarkerNext){var s=this._calcMiddleLatLng(a,o);e._middleMarkerNext.setLatLng(s)}if(e._middleMarkerPrev){var l=this._calcMiddleLatLng(a,r);e._middleMarkerPrev.setLatLng(l)}},_onMarkerDragEnd:function(t){this._fireEdit()},_fireEdit:function(){this._line.edited=!0,this._line.fire("pm:edit")},_calcMiddleLatLng:function(t,e){var i=this._line._map,n=i.project(t),a=i.project(e),r=i.unproject(n._add(a)._divideBy(2));return r}}),L.PM.Edit.Poly=L.PM.Edit.extend({initialize:function(t){this._poly=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enable:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e,this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this._poly.on("remove",function(e){t.disable(e.target)}),this.options.draggable&&this._initDraggableLayer()},enabled:function(){return this._enabled},disable:function(){var t=arguments.length<=0||void 0===arguments[0]?this._poly:arguments[0];if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._markerGroup.clearLayers(),t.off("mousedown"),t.off("mouseup");var e=t._path;L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_initMarkers:function(){var t=this._poly._map;this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,t.addLayer(this._markerGroup);var e=this._poly._latlngs[0];this._markers=e.map(this._createMarker,this);for(var i=0;i<e.length;i++){var n=i+1>=e.length?0:i+1;this._createMiddleMarker(this._markers[i],this._markers[n])}this.options.snappable&&this._initSnappableMarkers()},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return i._origLatLng=t,i._index=e,i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(i),i},_createMiddleMarker:function(t,e){var i=this,n=this._calcMiddleLatLng(t.getLatLng(),e.getLatLng()),a=this._createMarker(n),r=L.divIcon({className:"marker-icon marker-icon-middle"});a.setIcon(r),t._middleMarkerNext=a,e._middleMarkerPrev=a,a.on("click",function(){var n=L.divIcon({className:"marker-icon"});a.setIcon(n),i._addMarker(a,t,e)}),a.on("movestart",function(){a.on("moveend",function(){var t=L.divIcon({className:"marker-icon"});a.setIcon(t),a.off("moveend")}),i._addMarker(a,t,e)})},_addMarker:function(t,e,i){t.off("movestart"),t.off("click");var n=t.getLatLng(),a=this._poly._latlngs[0],r=e._index+1;a.splice(r,0,n),t._origLatLng=a[r],this._markers.splice(r,0,t),this._markers.map(function(t,e){return t._index=e}),this._createMiddleMarker(e,t),this._createMiddleMarker(t,i),this._fireEdit(),this.options.snappable&&this._initSnappableMarkers()},_removeMarker:function(t){var e=t.target,i=this._poly._latlngs[0],n=e._index;if(void 0!==n){i.splice(n,1),i.length<1?this._poly.remove():this._poly.redraw(),this._markerGroup.removeLayer(e._middleMarkerPrev),this._markerGroup.removeLayer(e._middleMarkerNext),this._markerGroup.removeLayer(e);var a=n-1<0?this._markers.length-1:n-1,r=n+1>=this._markers.length?0:n+1;if(r!==a){var o=this._markers[a],s=this._markers[r];this._createMiddleMarker(o,s)}this._markers.splice(n,1),this._markers.map(function(t,e){return t._index=e}),this._fireEdit()}},_onMarkerDrag:function(t){var e=t.target,i=e._index+1>=this._markers.length?0:e._index+1,n=e._index-1<0?this._markers.length-1:e._index-1;L.extend(e._origLatLng,e._latlng),this._poly.redraw();var a=e.getLatLng(),r=this._markers[n].getLatLng(),o=this._markers[i].getLatLng(),s=this._calcMiddleLatLng(a,o);e._middleMarkerNext.setLatLng(s);var l=this._calcMiddleLatLng(a,r);e._middleMarkerPrev.setLatLng(l)},_onMarkerDragEnd:function(t){this._fireEdit()},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("pm:edit")},_calcMiddleLatLng:function(t,e){var i=this._poly._map,n=i.project(t),a=i.project(e),r=i.unproject(n._add(a)._divideBy(2));return r}}),L.Control.PMButton=L.Control.extend({options:{position:"topleft"},initialize:function(t){this._button={},this._button=this.setButton(t)},onAdd:function(t){return this._map=t,this._container=this._map.pm.Toolbar.container,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(t){},setButton:function(t){var e={className:t.className,iconUrl:t.iconUrl,onClick:t.onClick,afterClick:t.afterClick,doToggle:t.doToggle,toggleStatus:t.toggleStatus,disableOtherButtons:t.disableOtherButtons};return e},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(t){return"boolean"==typeof t?this._button.toggleStatus=t:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},_triggerClick:function(t){this._button.onClick(t),this._clicked(t),this._button.afterClick(t)},_makeButton:function(t){var e=this,i=L.DomUtil.create("a","leaflet-buttons-control-button",this._container);t.toggleStatus&&L.DomUtil.addClass(i,"active");var n=L.DomUtil.create("div","control-icon",i);return t.iconUrl&&n.setAttribute("src",t.iconUrl),t.className&&L.DomUtil.addClass(n,t.className),L.DomEvent.addListener(i,"click",function(t){e._button.disableOtherButtons&&e._map.pm.Toolbar.triggerClickOnToggledButtons(e)}),L.DomEvent.addListener(i,"click",this._triggerClick,this),L.DomEvent.disableClickPropagation(i),i},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus?L.DomUtil.addClass(this.buttonsDomNode,"active"):L.DomUtil.removeClass(this.buttonsDomNode,"active"))},_clicked:function(){this._button.doToggle&&this.toggle()}}),L.PM.Toolbar=L.Class.extend({options:{drawLine:!1,drawPolygon:!1,editPolygon:!1,dragPolygon:!1,deleteLayer:!1},initialize:function(t){this.map=t,this.buttons={},this.container=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-bar leaflet-control"),this._defineButtons()},getButtons:function(){return this.buttons},addControls:function(){var t=arguments.length<=0||void 0===arguments[0]?this.options:arguments[0];L.Util.setOptions(this,t),this._showHideButtons()},_addButton:function(t,e){return this.buttons[t]=e,this.options[t]=this.options[t]||!1,this.buttons[t]},triggerClickOnToggledButtons:function(t){for(var e in this.buttons)this.buttons[e]!==t&&this.buttons[e].toggled()&&this.buttons[e]._triggerClick()},toggleButton:function(t,e){return this.triggerClickOnToggledButtons(this.buttons[t]),this.buttons[t].toggle(e)},_defineButtons:function(){var t=this,e={className:"icon-delete",onClick:function(t){},afterClick:function(e){t.map.pm.toggleRemoval(t.buttons.deleteLayer.toggled())},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0},i={className:"icon-line",onClick:function(t){},afterClick:function(e){t.map.pm.Draw.Line.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0},n={className:"icon-polygon",onClick:function(t){},afterClick:function(e){t.map.pm.Draw.Poly.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0},a={className:"icon-edit",onClick:function(t){},afterClick:function(e){t.map.pm.toggleGlobalEditMode({snappable:!0,draggable:!0})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0},r={className:"icon-drag",onClick:function(t){},afterClick:function(t){},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0};this._addButton("drawLine",new L.Control.PMButton(i)),this._addButton("drawPolygon",new L.Control.PMButton(n)),this._addButton("editPolygon",new L.Control.PMButton(a)),this._addButton("dragPolygon",new L.Control.PMButton(r)),this._addButton("deleteLayer",new L.Control.PMButton(e))},_showHideButtons:function(){var t=this.getButtons();for(var e in t)this.options[e]?t[e].addTo(this.map):t[e].remove()}});
//# sourceMappingURL=maps/leaflet.pm.min.js.map
